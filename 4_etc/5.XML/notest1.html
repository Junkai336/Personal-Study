<!-- 

    XML
        - 데이터를 저장하고 전달할 목적
        - 저장되는 데이터 구조를 기술하기 위한 언어
        - eXtensible Markup Language (문자 기반 마크업 언어)
        - 사람과 기계가 동시에 읽기 편한 구조
        - HTML 처럼 데이터를 보여주는 목적은 아님
        - XML 태그는 사용자가 직접 정의 가능



    XML 특징
        - 다목적 마크업 언어
        - 다른 시스템끼리 다양한 종류의 데이터를 쉽게 교환할 수 있도록 해줌
        - 새로운 태그를 만들어 추가해도 계속해서 동작
        - 데이터를 전달하고 저장하는 것만 목적
        - 텍스트 데이터 형식 언어 이므로 유니코드 문자로만 이루어짐
        - HTML 문서의 데이터를 XML 파일로 따로 저장 가능 (js코드로 읽어들일 수 있음)
        - XML 문서는 HTML 문서와 달리 오류가 발생하면, 해당 응용 프로그램의 모든 동작을 중지시킴



    XML 목적
        - 서로 호환되지 않는 데이터 타입을 사용하는 시스템 간 데이터 교환에는 손실 발생 우려有
        - XML은 데이터를 텍스트 형식으로 저장하므로 소프트웨어나 하드웨어에 독립적으로 저장하고 전달 가능
        -> 운영체제, 프로그램, 브라우저 등에 상관無



    XML 트리
        - HTML 문서와 마찬가지로 트리 형태의 계층 구조를 가짐
        - 루트(root) 요소부터 시작하여, 각각의 자식(child) 요소에 차례대로 연결, XML 트리 구조에 포함되는 모든 요소는 자신의 자식 요소를 가질 수 있음

        루트요소 - 자식을가지는요소 - 자식을가지는요소 - 자식을가지지않는요소 (조상,부모,자식,형제 요소 有)



    XML 구조

    ex)
        <?xml version="1.0" encoding="UTF-8"?>      // XML 문서 맨 첫줄에 <xml>태그로 XML 문서임을 명시
        <shop city="서울" type="마트">              // XML 문서에 단 하나만 존재하는 루트요소 생성 (모든 요소의 조상요소)
            <food category="fruit">                                  // 루트 요소의 자식 요소로 두 개의 <food> 요소를 가짐
                <name>귤</name>
                <sort>과일</sort>
                <cost>3000</cost>
            </food>
            <food category="vegetable">
                <name>배추</name>
                <sort>야채</sort>
                <cost>2000</cost>                   // XML 문서에서 요소의 이름은 저장하고 있는 데이터의 내용을 명확히 알려주고, 이름만으로 데이터 내용 짐작할 수 있다.
            </food>
        </shop>



    XML 선언

        - <?xml version-"XML문서버전" encoding="문자셋" standalone="yes||no"?>
            - version : XML 문서에 사용된 XML 버전
            - encoding : XMl 문서의 문자셋(character set), 기본값 UTF-8
            - standalone : XML 문서가 외부 DTD(Document Type Definition) 와 같은 외부 소스 데이터에 의존하고 있는 문서인지 아닌지 XML 파서(parser)에 알려주는 역할 / 기본값 no

    pasring : 컴퓨터에서 컴파일러 또는 번역기가 원시 부호를 기계어로 번역하는 과정의 한 단계로, 각 문장의 문법적인 구성 또는 구문을 분석하는 과정.
                원시 프로그램에서 나타난 토큰(token)의 열을 받아들여 이를 그 언어의 문법에 맞게 구문 분석 트리(parse tree)로 구성해 내는 일
-->



<!-- 

    XML 문법

        1. 모든 XML 요소는 종료 태그를 가진다.
            - 종료 태그를 생략하면 오류가 발생
            - 빈태그도 반드시 슬래시(/)로 self-closing 해야함 ex) <hr />

        2. XML 태그는 대소문자를 구분함, 시작태그와 종료태그가 대소문자 같아야함

        3. 여닫는 순서를 지켜야 함 <p><strong></strong></p>

        4. 속성값은 반드시 따옴표로 감싸야 함
            - <student name="홍길동">

        5. 여러번의 띄어쓰기를 인식함



    XML 엔티티

        - 예약되어 있는 기호

        < = &lt;
        > = &gt;
        & = &amp;
        " = &quot;
        ' = &apos;



    XML 주석
        - HTML과 같음
        - 주석의 내용 안에 두개의 연속된 하이픈(--) 허용하지 않음 



    XML 요소
        - 시작태그~종료태그
        - <요소이름 속성1="속성값" 속성2="속성값" ...> 내용 </요소이름>
        - <요소이름 속성1=속성값" 속성2="속성값" ... /> : 어떠한 내용도 가지지 않는 빈요소, 요소에 대한 데이터를 저장할 수 있는 속성을 가질 수는 있다.



    XML 요소 이름 규칙
        - 영문자, 숫자, 하이픈, 언더스코어(_), 점(.)만을 사용하여 작성
        - 영문자의 대소문자 구분
        - 영문자나 언더스코어로 시작해야함
        - 공백포함 X
        - 예약어인 xml,XML,Xml 이름 사용 x
        - 시작태그 종료태그 이름 대소문자 동일


    XML 속성
        - XML 요소에 대한 추가적인 정보 제공, 특징 정의
        - 속성은 여러개 가질 수 없으며 요소처럼 손쉽게 확장할 수 없고 XML 트리에 포함되지 않음

        <student>
            <name>홍길동</name>
            <year>1</year>
        </student>

        = 같은 정보 제공

        <student name="홍길동">
            <year>1</year>
        </student>


    XML 네임스페이스
        - XML 요소 간 이름 충돌 방지
        - 요소의 이름과 속성의 이름을 하나의 그룹으로 묶어서 이름에 대한 충돌 해결
        - URI로 식별됨

        ex)

        <body>
            <h1>html</h1>
        </body>

        <body>
            <arm>xml 신체정보</arm>
        </body>

            선언
                - <요소이름 xmlns:prefix="URI">
                - prefix 속성값에는 이름 앞에 붙게 되는 네임스페이스 접두사를 명시          <- ?
                - 접두사로 사용되는 URI은 네임스페이스 식별자를 의미                        <- ?

            ex)

            <root>
                <a:body xmlns:a="">
                    <a:h1>html 제목</a:h1>
                </a:body>
                <b:body xmlns:b="">
                    <b:arm>20</b:arm>
                </b:body>
            </root>
                -> a: b: <- xmlns 속성이 이 접두사들을 사용하고, XML 요소에 네임스페이스가 선언되면 해당 요소의 모든 자식요소에도 같은 네임스페이스가 선언됨

                => prefix???(접두사이름명시하고요소이름앞에도붙이는거임?)    uri???(xml,html주소말하는거임?)      요소이름앞에 a: 붙는거???       문법양식이 잘 이해안댐



            ex2)

            <root
            xmlns:a=""
            xmlns:b="">
                <a:body>
                    <a:h1>html 제목</a:h1>
                </a:body>
                <b:body>
                    <b:arm>20</b:arm>
                </b:body>
            </root>

            // 그러니까 prefix는 어떤 uri 주소에 있는 html 혹은 xml을 사용할건지 정하는 일종의 이름인듯??



            URI(Uniform Resource Identifiers) : 통합 자원 식별자, 인터넷에 있는 자원을 나타내는 유일한 주소. 인터넷의 자원을 식별할 수 있는 문자열

            URL(Uniform Resource Locator) : 인터넷 도메인 주소, URI의 하위 개념, 웹 상의 주소를 나타내는 문자열

            URN(Universal Resource Name) : 이름으로 리소스를 특정하는 URI, 리소스 자체에 부여된 영구적이고 유일한 이름이고 변하지 않음, 경로와 리소스 자체를 특정하는 것을 목표로 함

            https://hanamon.kr/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC-%EA%B8%B0%EB%B3%B8-url-uri-urn-%EC%B0%A8%EC%9D%B4%EC%A0%90/



    XML 문서 종류
            - 문법에 맞는(well-formed) XML 문서
            - 유효한(valid) XML 문서

            문법에 맞는 XML 문서
                - XML 문서로서 가져야 하는 최소한의 필수 조건을 충족한 문서
                - XML의 모든 구문을 허용하지만 DTD, 스키마 사용 X
                    조건
                        - 루트 요소를 하나만 가져야 함
                        - 모든 요소는 종료 태그를 가져야 함
                        - 시작 태그와 종료 태그 일치
                        - 여닫는 순서가 반드시 지켜져야 함
                        - 속성값이 ""로 둘러싸여 있어야 함

            유효한 XML 문서
                - 문법에 맞는 XML 문서를 좀 더 엄격하게 검증한 문서
                - DTD(Document Type Definition) 를 가지고 있으며 그에 따라 검증된 문서

            XML에서 사용하는 DTD 종류
                - DTD : 일반적인 문서 타입 정의
                - XML 스키마(XSD)

    XML 파서
        - 응용 프로그램이 XML 문서를 읽을 수 있도록 인터페이스를 제공하는 라이브러리 or 패키지
        - XML 문서가 적합한 형식을 갖추고 있는지 문법상 오류는 없는지 검사
        - 종류
            - MSXML(Microsoft Core XML Services)
            - System.Xml.XmlDocument
            - Java built-in parser <-
            - Saxon
            - Xerces
-->



<!-- 

    XSL (eXtensible Stylesheet Language)
        - XML 문서는 다양한 장치에서 데이터 저장+전달 목적으로 만들어졌으나 각각 장치는 내부적으로 자신만의 고유한 데이터 구조를 사용하고 있음
        - 각각의 장치가 전달받은 XML 문서를 자신이 사용하는 데이터 구조로 변환할 때 사용할 규칙 필요
        - 변환 규칙에 대한 명세를 작성할 수 있는 언어임
        - XML 문서를 위한 스타일 시트 언어

    XSL 구성
        - XML 문서의 변환과 표현을 정의하는 세 개 언어로 구성

        - XSLT : XSL Tansformation / XML 문서를 XHTML 문서나 또다른 XML 타입의 문서로 변환하기 위해 사용하는 언어

        - XPath : XML 문서의 특정 요소나 속성에 접근하기 위한 경로를 지정하는 언어

        - XSL_FO : XML 데이터를 출력하기 위한 목적으로 설계된 언어 (2013년부터 업데이트x CSS3으로 대체하여 사용한다고 함)

    XSLT
        - XSLT는 XPath를 이용하여 XML 문서에서 필요한 정보를 찾는 역할

    XSLT 변환 과정
        - 변환(Transformation) : XML 문서를 다른 구조의 XML 문서로 변환하는 과정
        - 서식 설정(Formatting) : XML 

        XML문서, XSL문서 -> XSLT프로세서 -> 다른구조의XML문서 -> XSLT포맷터 -> 비XML문서




ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

XSLT 변환

(변환될 데이터를 가지고 있는 XML 문서)

[data.xml]



<?xml version="1.0" encoding="UTF-8"?>

<programming_languages>

    <language>
        <name>HTML</name>
        <category>web</category>
        <developer>W3C</developer>
        <version status="working draft">5.1</version>
        <priority rating="1">high</priority>
    </language>

    ...

    <language>
        <name korean="파이썬">Python</name>
        <category>application</category>
        <developer>Python</developer>
        <version status="stable">3.52</version>
        <priority rating="4">middle</priority>
    </language>

</programming_languages>

ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

(변환에 대한 규칙을 가지고 있는 XSLT 문서)

[xml_xslt_01.xsl]



<?xml version="1.0" encoding="UTF-8"?>

<xsl:stylesheet version="2.0" xmlns:xsl="http://www.w3.org/1999/XSL/Transform">
    <xsl:output method="html"/>
    <xsl:template match="/">

        <html>
            <body>
                <h2 style="text-align:center">프로그래밍 언어</h2>
                <table border="1" style="width: 50%; margin: auto">

                    <tr>
                        <th>이름</th>
                        <th>종류</th>
                        <th>개발사</th>
                        <th>버전</th>
                        <th>중요도</th>
                    </tr>

                    <xsl:for-each select="programming_languages/language">
                        <tr>
                            <td><xsl:value-of select="name"/></td>
                            <td><xsl:value-of select="category"/></td>
                            <td><xsl:value-of select="developer"/></td>
                            <td><xsl:value-of select="version"/></td>
                            <td><xsl:value-of select="priority"/></td>
                        </tr>
                    </xsl:for-each>

                </table>
            </body>
        </html>

    </xsl:template>
</xsl:stylesheet>

ㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡㅡ

(XML 문서에 XSLT 문서를 연결)

[xml_xslt_01.xml]



<?xml version="1.0" encoding="UTF-8"?>

<?xml-stylesheet type="text/xsl" href="xml_xslt_01.xsl"?>

<programming_languages>

    <language>
        <name>HTML</name>
        <category>web</category>
        <developer>W3C</developer>
        <version status="working draft">5.1</version>
        <priority rating="1">high</priority>
    </language>

    <language>
        <name>CSS</name>
        <category>web</category>
        <developer>W3C</developer>
        <version status="stable">3.0</version>
        <priority rating="3">middle</priority>
    </language>

    <language>
        <name korean="자바">Java</name>
        <category>application</category>
        <developer>Oracle</developer>
        <version status="stable">8.91</version>
        <priority rating="2">high</priority>
    </language>

    <language>
        <name korean="파이썬">Python</name>
        <category>application</category>
        <developer>Python</developer>
        <version status="stable">3.52</version>
        <priority rating="4">middle</priority>
    </language>

</programming_languages>
-->

<!-- 
    총 3개의 문서가 필요한 것인지? 테스트 필요함
-->