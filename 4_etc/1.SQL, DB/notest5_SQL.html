<!-- 
윈도우 함수

  - 순위 함수

    - RANK
      - 지정한 정렬 기준에 따라 각 행에 순위 부여
      - 동일한 값이 있을 경우 같은 순위 + 그 다음 순위는 건너뜀
      - 두 행이 동일한 값으로 1위를 기록하면 다음 행은 3위 ( 1 1 3 )

    - DENSE_RANK
      - 지정한 정렬 기준에 따라 각 행에 순위 부여
      - 동일한 값이 있을 경우 같은 순위
      - 두 행이 동일한 값으로 1위를 기록하면 다음 행은 2위 ( 1 1 2 )

    - ROW_NUMBER
      - 파티션 내의 각 행에 고유한 순차 번호 부여
      - 동일한 값 여부와 상관없이 순서 매김
      - 단순히 행 번호를 매겨서 결과 집합에 일련번호 추가할 때 사용

  - 집계 함수
    - 윈도우 함수 내에서 집계 함수를 사용하면, 그룹화 없이도 특정 범위(윈도우)에 대해 합계나 평균 계산 가능

    - SUM
      - 지정한 윈도우 내 값들의 합 계산

    - MAX
      - 윈도우 내 최대값 반환

    - MIN
      - 윈도우 내 최소값 반환

    - AVG
      - 윈도우 내 값들의 평균 계산

    - COUNT
      - 윈도우 내 행 수 또는 NULL이 아닌 값의 개수 계산

      ex)
        SELECT
          EMPLOYEE_ID,
          SALARY,
          SUM(SALARY) OVER (PARTITION BY DEPARTMENT_ID) AS DEPT_TOTAL_SALARY,
          AVG(SALARY) OVER (PARTITION BY DEPARTMENT_ID) AS DEPT_AVG_SALARY
        FROM
          EMPLOYEES

  - 행 순서 함수

    - FIRST_VALUE
      - 현재 윈도우에서 지정한 순서에 따라 첫번째 값 반환

    - LAST_VALUE
      - 현재 윈도우에서 마지막 값 반환

    - LAG
      - 현재 행보다 이전 행의 값을 참조
      - 기본적으로 오프셋 1만큼 이전 값 반환 (다른 오프셋도 지정 가능)

    - LEAD
      - 현재 행보다 이후 행의 값을 참조

      ex)
        SELECT
          EMPLOYEE_ID,
          SALARY,
          LAG(SALARY, 1) OVER (ORDER BY HIRE_DATE) AS PREV_SALARY,
          LEAD(SALARY, 1) OVER (ORDER BY HIRE_DATE) AS NEXT_SALARY,
          FIRST_VALUE(SALARY) OVER (ORDER BY HIRE_DATE) AS FIRST_SALARY,
          LAST_VALUE(SALARY) OVER (ORDER BY HIRE_DATE ROWS BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING) AS LAST_SALARY
        FROM
          EMPLOYEES

  - 비율 함수
    - 데이터 집합 내에서 특정 행의 값이 전체 또는 누적 분포 내에서 어떤 비율을 차지하는지 계산할 때 유용

    - CUME_DIST
      - 누적 분포 계산
      - 현재 행의 값 이하인 행의 비율 반환

    - PERCENT_RANK
      - 현재 행의 상대적 순위를 백분율로 나타냄 (최소 순위 0 , 최대 순위 1)

    - NTILE
      - 윈도우를 지정한 수의 그룹으로 나누고 각 행에 해당 그룹 번호 부여

    - RATIO_TO_REPORT
      - 현재 행의 값이 윈도우 내 전체 값의 합에서 차지하는 비율 계산

      ex)
        SELECT
          EMPLOYEE_ID,
          SALARY,
          CUME_DIST() OVER (ORDER BY SALARY) AS SALARY_CUME_DIST,
          PERCENT_RANK() OVER (ORDER BY SALARY) AS SALARY_PERCENT_RANK,
          NTILE(4) OVER (ORDER BY SALARY) AS SALARY_QUARTILE,
          RATIO_TO_REPORT(SALARY) OVER AS SALARY_RATIO
        FROM
          EMPLOYEES

-->